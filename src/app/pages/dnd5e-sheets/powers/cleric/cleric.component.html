<div>
  <div class="power-item space-bottom" *ngIf="klass.level >= 2">
    <h5 class="h5">Channel Divinity</h5>
    <div class="flex-row-all flex-gutters-5">
      <div class="flex-col-3">
        <label class="control-label">Value</label>
        <input class="form-control" type="number" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.divinity.value">
      </div>
      <div class="flex-col-3">
        <label class="control-label">Misc</label>
        <input class="form-control" type="number" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.divinity.misc">
      </div>
      <div class="flex-col-3">
        <label class="control-label">Total</label>
        <label class="block-label">{{ self.methods.getMiscValueAutoTotal(self.model.powers.Cleric.divinity) }}</label>
      </div>
      <div class="flex-col-3">
        <label class="control-label">Remaining</label>
        <input class="form-control" type="number" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.divinity.remaining">
      </div>
    </div>
  </div>
  <div class="power-item space-bottom">
    <div class="flex-row-all flex-gutters-5">
      <div class="flex-col-6">
        <label class="control-label">Domain</label>
        <div class="select-wrap" *ngIf="!self.model.prefs.homebrew">
          <i class="material-icons">arrow_drop_down</i>
          <label>{{ self.model.powers.Cleric.domain }}</label>
          <select class="form-control" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.domain">
            <option [value]="option" *ngFor="let option of self.locals.selection.domains">{{ option }}</option>
          </select>
        </div>
        <input class="form-control" type="text" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.domain" *ngIf="self.model.prefs.homebrew">
      </div>
      <div class="flex-col-6" *ngIf="klass.level >= 8">
        <label class="control-label">Divine Strike</label>
        <input class="form-control" type="text" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.divine_strike">
      </div>
    </div>
  </div>
  <div class="power-item space-bottom" *ngIf="self.locals.data.cleric_wisdom_points[self.model.powers.Cleric.domain]">
    <h5 class="h5">{{ self.locals.data.cleric_wisdom_points[self.model.powers.Cleric.domain] }}</h5>
    <div class="flex-row-all flex-gutters-5">
      <div class="flex-col-3">
        <label class="control-label">Value</label>
        <label class="block-label">{{ self.methods.getAbilityMod(self.model.abilities.WIS) }}</label>
      </div>
      <div class="flex-col-3">
        <label class="control-label">Misc</label>
        <input class="form-control" type="number" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.wisdom_points.misc">
      </div>
      <div class="flex-col-3">
        <label class="control-label">Total</label>
        <label class="block-label">{{ self.methods.getAbilityMod(self.model.abilities.WIS) + self.model.powers.Cleric.wisdom_points.misc }}</label>
      </div>
      <div class="flex-col-3">
        <label class="control-label">Remaining</label>
        <input class="form-control" type="number" (ngModelChange)="self.touch()" [(ngModel)]="self.model.powers.Cleric.wisdom_points.remaining">
      </div>
    </div>
  </div>
  <div class="power-item" *ngIf="self.model.powers.Cleric.domain === 'Knowledge Domain'">
    <h5 class="h5">Blessings of Knowledge</h5>
    <div class="stat-row" *ngFor="let stat of self.locals.data.blessing_of_knowledge">
      <div class="form-group">
        <label class="checkbox-inline">
          <input type="checkbox" title="Expertise in {{ stat.name }}" (ngModelChange)="self.methods.setClericExpertise(self.model.skills[stat.id])" [(ngModel)]="self.model.skills[stat.id].expert">
          <span>{{ stat.name }}</span>
        </label>
      </div>
    </div>
  </div>
</div>
